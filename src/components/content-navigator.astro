---
import ChevronR from "@/assets/chevron_r.svg";
import ChevronL from "@/assets/chevron_l.svg";
const { items, currentIndex, basePath, contentType } = Astro.props;

const prevItem = currentIndex - 1 < 0 ? null : items[currentIndex - 1];
const nextItem = currentIndex + 1 === items.length ? null : items[currentIndex + 1];

const label = {
  prev: "Previous",
  goTo: "Go To",
  next: "Next",
  none: "--",
};
---

<nav
  aria-label={`${contentType} navigation`}
  class="grid grid-cols-3 border-t border-stone-700 md:grid-cols-8">
  {
    prevItem ? (
      <a
        href={`/${basePath}/${prevItem.id}/`}
        aria-label={`Go to: ${prevItem.data.title}`}
        class="group relative block w-full place-content-center overflow-clip bg-stone-900/40 px-6 py-3 transition-colors duration-300 ease-in-out md:col-span-3">
        <span class="relative z-10 hidden text-sm text-stone-400 sm:block">{label.prev}</span>
        <span class="relative z-10 hidden font-medium text-stone-300 transition-colors duration-300 ease-in-out group-hover:text-stone-100 sm:block">
          {prevItem.data.title}
        </span>
        <ChevronL class={"relative z-10 text-orange-600 group-hover:text-white sm:hidden"} />
        <span class="absolute inset-0 z-0 translate-x-full bg-stone-800 transition-transform duration-200 ease-in group-hover:translate-x-0" />
      </a>
    ) : (
      <span class="hidden w-full bg-stone-950 px-6 py-3 text-sm text-stone-500 sm:block md:col-span-3 overflow-clip">
        {label.prev}
        <br />
        {label.none}
      </span>
      <span class="z-10 w-full block place-content-center pl-6 sm:hidden overflow-clip">
        <ChevronL class={"text-stone-500"} />
      </span>
    )
  }
  <a
    href={`/${basePath}/`}
    aria-label={`View all ${contentType}`}
    class="group relative block w-full place-content-center overflow-clip border-x border-stone-700 bg-stone-900/40 px-6 py-3 text-center font-medium text-stone-300 transition-colors duration-300 ease-in-out hover:text-stone-100 md:col-span-2">
    <span class="relative z-10 block text-sm text-stone-400">{label.goTo}</span>
    <span class="relative z-10">{contentType}</span>
    <span
      class="absolute inset-0 z-0 translate-y-full bg-stone-800 transition-transform duration-100 ease-in group-hover:translate-y-0"
    ></span>
  </a>
  {
    nextItem ? (
      <a
        href={`/${basePath}/${nextItem.id}/`}
        aria-label={`Go to: ${nextItem.data.title}`}
        class="group relative z-10 block w-full place-content-center overflow-clip bg-stone-900/40 px-6 py-3 text-right transition-colors duration-300 ease-in-out md:col-span-3">
        <span class="hidden relative z-10 text-sm text-stone-400 sm:block">{label.next}</span>
        <span class="hidden relative z-10 font-medium text-stone-300 transition-colors duration-300 ease-in-out group-hover:text-stone-100 sm:block">
          {nextItem.data.title}
        </span>
        <ChevronR class={"relative z-10 ml-auto text-orange-600 group-hover:text-white sm:hidden"} />
        <span class="absolute inset-0 z-0 -translate-x-full bg-stone-800 transition-transform duration-200 ease-in group-hover:translate-x-0" />
      </a>
    ) : (
      <span class="hidden w-full bg-stone-950 px-6 py-3 text-right text-sm text-stone-500 sm:block md:col-span-3 overflow-clip">
        {label.next}
        <br />
        {label.none}
      </span>
      <span class="z-10 w-full block place-content-center pr-6 sm:hidden overflow-clip">
        <ChevronR class={"ml-auto text-stone-500"} />
      </span>
    )
  }
</nav>
